# Proc

Windows のアクティブウィンドウを自動追跡し、今日の作業時間を一覧表示するデスクトップアプリ。

## 概要

1 分ごとにフォアグラウンドウィンドウのプロセス名とタイトルを記録し、日別の CSV ファイルに保存します。常時最前面に表示される半透明オーバーレイで、各アプリの使用時間を確認できます。

## スクリーンショット

<!-- スクリーンショットをここに追加 -->

## 機能

- **自動記録** — 1 分間隔でアクティブウィンドウを検出・記録
- **リアルタイム表示** — フォアグラウンドウィンドウの切り替えを即座に反映
- **半透明オーバーレイ** — 最前面表示、ドラッグで移動可能、タスクバー非表示
- **アプリアイコン表示** — 各プロセスのアイコンを自動取得して表示
- **タイトル表示切替** — 右クリックメニューからプロセス名のみ / タイトル付き表示を切替
- **システムトレイ** — トレイアイコンから表示切替・終了が可能
- **日別 CSV 保存** — `%LOCALAPPDATA%\Proc\logs\YYYY-MM-DD.csv` に記録

## 動作要件

- Windows 10 / 11
- .NET 9

## ビルド・実行

```bash
dotnet build
dotnet run
```

## 操作方法

| 操作 | 動作 |
|------|------|
| ドラッグ | ウィンドウ移動 |
| ダブルクリック | (カスタム動作) |
| 右クリック | コンテキストメニュー表示 |
| トレイアイコン左クリック | ウィンドウの表示/非表示切替 |
| トレイアイコン右クリック | メニュー (Analysis / Settings / Exit) |

## プロジェクト構成

```
Proc/
├── App.xaml / App.xaml.cs         # アプリケーションエントリポイント
├── MainWindow.xaml / .cs          # メインウィンドウ (オーバーレイ UI)
├── ActivityLogger.cs              # ウィンドウ検出・CSV 記録
├── ActivityRecord.cs              # レコードモデル・CSV シリアライズ
├── IconHelper.cs                  # プロセスアイコン取得
├── Proc.csproj                    # プロジェクト定義
└── Proc.ico                       # アプリアイコン
```

## 技術スタック

- **.NET 9** / **WPF**
- **Win32 P/Invoke** — `GetForegroundWindow`, `GetWindowText`, `GetWindowThreadProcessId`, `SetWinEventHook`
- **Hardcodet.NotifyIcon.Wpf** — システムトレイアイコン

## ライセンス

<!-- ライセンスをここに記載 -->
